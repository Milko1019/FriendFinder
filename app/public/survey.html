<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Freind Finder/Survey</title>
  <!-- Latest compiled and minified CSS & JS -->
  
     <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">
        <h2>Survey Questions</h2>
        <hr>

        <h3><strong>About You</strong></h3>
        <h4>Name (Required)</h4>
            <input type="text" id="name" class="form-control" required="">
        <h4>Link to Photo Image (Required)</h4>
            <input type="text" id="photo" class="form-control" required="">
        <hr>

        <div class="questions">
            <div id="question1">
                <h3>Question 1</h3>
                <h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        Dropdown
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                        <button class="dropdown-item" type="button">5- Strongly Agree</button>
                        <button class="dropdown-item" type="button">4</button>
                        <button class="dropdown-item" type="button">3</button>
                        <button class="dropdown-item" type="button">2</button>
                        <button class="dropdown-item" type="button">1 - Strongly Disagree</button>
                    </div>
                </div>
            </div>
    
            <div id="question2">
                <h3>Question 2</h3>
                <h4>Generally speaking, you rely more on your experience than your imagination.</h4>
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        Dropdown
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                        <button class="dropdown-item" type="button">5- Strongly Agree</button>
                        <button class="dropdown-item" type="button">4 </button>
                        <button class="dropdown-item" type="button">3</button>
                        <button class="dropdown-item" type="button">2</button>
                        <button class="dropdown-item" type="button">1 - Strongly Disagree</button>
                    </div>
                </div>
            </div>
    
            <div id="question3">
                <h3>Question 3</h3>
                <h4>You find it easy to stay relaxed and focused even when there is some pressure.</h4>
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        Dropdown
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                        <button class="dropdown-item" type="button">5- Strongly Agree</button>
                        <button class="dropdown-item" type="button">4</button>
                        <button class="dropdown-item" type="button">3</button>
                        <button class="dropdown-item" type="button">2</button>
                        <button class="dropdown-item" type="button">1 - Strongly Disagree</button>
                    </div>
                </div>
            </div>
    
            <div id="question4">
                <h3>Question 4</h3>
                <h4>You rarely do something just out of sheer curiosity.</h4>
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        Dropdown
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                        <button class="dropdown-item" type="button">5- Strongly Agree</button>
                        <button class="dropdown-item" type="button">4</button>
                        <button class="dropdown-item" type="button">3 </button>
                        <button class="dropdown-item" type="button">2</button>
                        <button class="dropdown-item" type="button">1 - Strongly Disagree</button>
                    </div>
                </div>
            </div>
    
            <div id="question5">
                <h3>Question 5</h3>
                <h4>People can rarely upset you.</h4>
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        Dropdown
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                        <button class="dropdown-item" type="button">5- Strongly Agree</button>
                        <button class="dropdown-item" type="button">4</button>
                        <button class="dropdown-item" type="button">3</button>
                        <button class="dropdown-item" type="button">2 </button>
                        <button class="dropdown-item" type="button">1 - Strongly Disagree</button>
                    </div>
                </div>
            </div>
            <div id="question6">
                <h3>Question 6</h3>
                <h4>It is often difficult for you to relate to other people’s feelings.</h4>
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        Dropdown
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                        <button class="dropdown-item" type="button">5- Strongly Agree</button>
                        <button class="dropdown-item" type="button">4</button>
                        <button class="dropdown-item" type="button">3</button>
                        <button class="dropdown-item" type="button">2</button>
                        <button class="dropdown-item" type="button">1 - Strongly Disagree</button>
                    </div>
                </div>
            </div>
    
            <div id="question7">
                <h3>Question 7</h3>
                <h4>In a discussion, truth should be more important than people’s sensitivities.</h4>
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        Dropdown
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                        <button class="dropdown-item" type="button">5- Strongly Agree</button>
                        <button class="dropdown-item" type="button">4</button>
                        <button class="dropdown-item" type="button">3 </button>
                        <button class="dropdown-item" type="button">2</button>
                        <button class="dropdown-item" type="button">1 - Strongly Disagree</button>
                    </div>
                </div>
            </div>
    
            <div id="question8">
                <h3>Question 8</h3>
                <h4>You rarely get carried away by fantasies and ideas.</h4>
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        Dropdown
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                        <button class="dropdown-item" type="button">5- Strongly Agree</button>
                        <button class="dropdown-item" type="button">4</button>
                        <button class="dropdown-item" type="button">3</button>
                        <button class="dropdown-item" type="button">2</button>
                        <button class="dropdown-item" type="button">1 - Strongly Disagree</button>
                    </div>
                </div>
            </div>
    
            <div id="question9">
                <h3>Question 9</h3>
                <h4>You think that everyone’s views should be respected regardless of whether they are supported by facts or not.</h4>
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        Dropdown
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                        <button class="dropdown-item" type="button">5- Strongly Agree</button>
                        <button class="dropdown-item" type="button">4</button>
                        <button class="dropdown-item" type="button">3</button>
                        <button class="dropdown-item" type="button">2</button>
                        <button class="dropdown-item" type="button">1 - Strongly Disagree</button>
                    </div>
                </div>
            </div>
    
            <div id="question10">
                <h3>Question 10</h3>
                <h4>You feel more energetic after spending time with a group of people.</h4>
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        Dropdown
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                        <button class="dropdown-item" type="button">5- Strongly Agree</button>
                        <button class="dropdown-item" type="button">4</button>
                        <button class="dropdown-item" type="button">3</button>
                        <button class="dropdown-item" type="button">2</button>
                        <button class="dropdown-item" type="button">1 - Strongly Disagree</button>
                    </div>
                </div>
            </div>

        <hr>
        
        <!-- <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i>Submit</button> -->
        <a class="btn btn-primary btn-lg" id="submitButton" href="#" role="button">Submit</a>
        <br>
        <br>
        <footer class="footer">
                <div class="container">
                    <p>
                        <a href="/api/friends">API Friends List</a>
                         | 
                        <a href="https://github.com/Milko1019">GitHub Repo</a>
                    </p>
                </div>
        </footer>
    </div>

    <div id="bestFriendModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h3 class="modal-title">Your New Bestest Friend</h1>
                </div>
                <div class="modal-body">
                    <h2 id="bestFriend"></h2>
                    <img id="bestFriendPhoto" src="#">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    </div>

    <script type="text/javascript">
        $("#submitButton").on("click", function (event) {
            event.preventDefault();
            // Form validation
            var valid = true;
            if ($("#name").val() === "" || $("#photo").val() === "") {
                valid = false;
            } else if ($("#question1").val() === "empty" ||
                $("#question2").val() === "empty" ||
                $("#question3").val() === "empty" ||
                $("#question4").val() === "empty" ||
                $("#question5").val() === "empty" ||
                $("#question6").val() === "empty" ||
                $("#question7").val() === "empty" ||
                $("#question8").val() === "empty" ||
                $("#question9").val() === "empty" ||
                $("#question10").val() === "empty") {
                valid = false;
            } if (valid === true) {
                var newUser = {
                    name: $("#name").val().trim(),
                    photo: $("#photo").val().trim(),
                    scores: [
                        $("#question1").val(),
                        $("#question2").val(),
                        $("#question3").val(),
                        $("#question4").val(),
                        $("#question5").val(),
                        $("#question6").val(),
                        $("#question7").val(),
                        $("#question8").val(),
                        $("#question9").val(),
                        $("#question10").val()
                    ]
                };
                var currentURL = window.location.origin;
                $.post(currentURL + "/api/friends", newUser, function (data) {
                    $("#bestFriend").text(data.name);
                    $("#bestFriendPhoto").attr("src", data.photo);
                    $("#bestFriendModal").modal("toggle");
                });
            } else {
                alert("Please fill out all forms");
            }
        });
    </script>

</body>

</html>

